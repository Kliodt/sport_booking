структура ответа "limits":

"id предмета" :{
    "id занятия": {
        limit: сколько мест было всего
        available: сколько свободных мест осталось
    },
    "id занятия в то же время на след. неделе": {
        limit: 
        available: 
    }, 
    ...
}

чтобы узнать id занятия надо кликнуть по нему в расписании и посмотреть запрос, который отправится в консоли (с просто числом в Name)

Куки можно просто удалить из запроса

access-токен лежит на 1й строчке в файле token.txt и автоматически подставляется в файлы limits.sh и sign_in_for_lesson.sh

refresh-токен лежит на 1й строчке в файле token_refresh.txt 



Запрос на получение токена 1: (после токена есть еще данные!)
--data-raw 'refresh_token=     eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjNTcxMzVjYy01ZjEwLTQ4ZTAtYTU5ZS1lYTYwMmY3ZTcxYzAifQ.eyJleHAiOjE2OTgyNjA3NTAsImlhdCI6MTY5NTY2ODc1MCwianRpIjoiZDk1ZGI2ZjEtODg0Ni00OGFiLTkyOTItOTYyMWUwNDMyOGVhIiwiaXNzIjoiaHR0cHM6Ly9pZC5pdG1vLnJ1L2F1dGgvcmVhbG1zL2l0bW8iLCJhdWQiOiJodHRwczovL2lkLml0bW8ucnUvYXV0aC9yZWFsbXMvaXRtbyIsInN1YiI6IjU3ZTE2NWIzLWVmNGMtNDRiYy1iNDZmLWNkZDM5ZDQ3ZTg3YSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJzdHVkZW50LXBlcnNvbmFsLWNhYmluZXQiLCJzZXNzaW9uX3N0YXRlIjoiYThmMzJiZWUtMGIzMy00YTljLTg1MjItZmUyNjZjMTllYjNhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlZHUgd29yayIsInNpZCI6ImE4ZjMyYmVlLTBiMzMtNGE5Yy04NTIyLWZlMjY2YzE5ZWIzYSJ9.Ajh-Xh27vYiycwslRVXi6sf6Kc9WiZH-LJPXG8t2x34&scopes=openid%20profile&client_id=student-personal-cabinet&grant_type=refresh_token' \

Ответ: 
  {
    "access_token":  [*]      "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIwSVliSmNVLW1wbEdBdzhFMzNSNkNKTUdWa3hZdUQ2eUItdWt3RlBJOXV3In0.eyJleHAiOjE2OTU2NzIzNzUsImlhdCI6MTY5NTY3MDU3NSwiYXV0aF90aW1lIjoxNjkyMDA0OTEwLCJqdGkiOiI2NTNjNDA5OC0wMWY2LTQzMTUtYTk2OC0zMWQyM2UwNDdkOGEiLCJpc3MiOiJodHRwczovL2lkLml0bW8ucnUvYXV0aC9yZWFsbXMvaXRtbyIsImF1ZCI6InlhbmRleCIsInN1YiI6IjU3ZTE2NWIzLWVmNGMtNDRiYy1iNDZmLWNkZDM5ZDQ3ZTg3YSIsInR5cCI6IkJlYXJlciIsImF6cCI6InN0dWRlbnQtcGVyc29uYWwtY2FiaW5ldCIsInNlc3Npb25fc3RhdGUiOiJhOGYzMmJlZS0wYjMzLTRhOWMtODUyMi1mZTI2NmMxOWViM2EiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly9teS5pdG1vLnN1IiwiaHR0cHM6Ly9teS5pdG1vLnJ1IiwiaHR0cHM6Ly9lbWJlZC5pZm1vLnJ1IiwiaHR0cHM6Ly9pc3UuaWZtby5ydSJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsieWFuZGV4Ijp7InJvbGVzIjpbImVkaXQ6YWNjb3VudCJdfSwic3R1ZGVudC1wZXJzb25hbC1jYWJpbmV0Ijp7InJvbGVzIjpbImFjY2VzcyJdfX0sInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZWR1IHdvcmsiLCJzaWQiOiJhOGYzMmJlZS0wYjMzLTRhOWMtODUyMi1mZTI2NmMxOWViM2EiLCJpc3UiOjM2ODMwNSwicHJlZmVycmVkX3VzZXJuYW1lIjoiaWQzNjgzMDUifQ.r98xtGFDzPmYCYRBGuRA5Q0HC0sWGq6kn8J5LnxK5bRpfg1AHMPk-wH6HxQ2F5CL3G9oQHKkNFQzF9mVBPQzr_qXFLx7NYJkXFQIhL84wJKKVZKeGwFXh50PYix0RZQ4PQcwkfmtEnN_fqGoPNDbEU_9Pr1BT7oahnX0V1JDZCUXrOqMvDHepEzbtRQzY6CRMZgs5eTgYvIcvaDX596_P6IyY2cHAg5m02FiFFFFip_W_gQ3bPSmXlaz_Pqtp0muKVfFZ-acZg-Ei7PXFjScRkBIFGsqOLdG1CIEg2y7A7_24MHHsLOqw9EiiU32RjtBBVWS1Qn2t9hn2Pb8LiX1JQ",
    "refresh_token":   [**]   "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjNTcxMzVjYy01ZjEwLTQ4ZTAtYTU5ZS1lYTYwMmY3ZTcxYzAifQ.eyJleHAiOjE2OTgyNjI1NzUsImlhdCI6MTY5NTY3MDU3NSwianRpIjoiNTU4YTdkOTgtNGNmZC00N2NmLWFlZmItOTFiYjUyZTc4MTg2IiwiaXNzIjoiaHR0cHM6Ly9pZC5pdG1vLnJ1L2F1dGgvcmVhbG1zL2l0bW8iLCJhdWQiOiJodHRwczovL2lkLml0bW8ucnUvYXV0aC9yZWFsbXMvaXRtbyIsInN1YiI6IjU3ZTE2NWIzLWVmNGMtNDRiYy1iNDZmLWNkZDM5ZDQ3ZTg3YSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJzdHVkZW50LXBlcnNvbmFsLWNhYmluZXQiLCJzZXNzaW9uX3N0YXRlIjoiYThmMzJiZWUtMGIzMy00YTljLTg1MjItZmUyNjZjMTllYjNhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlZHUgd29yayIsInNpZCI6ImE4ZjMyYmVlLTBiMzMtNGE5Yy04NTIyLWZlMjY2YzE5ZWIzYSJ9.yngWe6QWfLI3i2sP0ZvA6tLu-Sy-j3kcikzuxHOYkoo",
    "id_token":               "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIwSVliSmNVLW1wbEdBdzhFMzNSNkNKTUdWa3hZdUQ2eUItdWt3RlBJOXV3In0.eyJleHAiOjE2OTU2NzIzNzUsImlhdCI6MTY5NTY3MDU3NSwiYXV0aF90aW1lIjoxNjkyMDA0OTEwLCJqdGkiOiJjMDU4Y2FmNS0xNWJmLTQzNGQtYjk2Mi04OGQxMWIyNDMyMTciLCJpc3MiOiJodHRwczovL2lkLml0bW8ucnUvYXV0aC9yZWFsbXMvaXRtbyIsImF1ZCI6InN0dWRlbnQtcGVyc29uYWwtY2FiaW5ldCIsInN1YiI6IjU3ZTE2NWIzLWVmNGMtNDRiYy1iNDZmLWNkZDM5ZDQ3ZTg3YSIsInR5cCI6IklEIiwiYXpwIjoic3R1ZGVudC1wZXJzb25hbC1jYWJpbmV0Iiwic2Vzc2lvbl9zdGF0ZSI6ImE4ZjMyYmVlLTBiMzMtNGE5Yy04NTIyLWZlMjY2YzE5ZWIzYSIsImF0X2hhc2giOiJ2LUd0NHZxSTduQjJEQTc4c2dfN09RIiwic2lkIjoiYThmMzJiZWUtMGIzMy00YTljLTg1MjItZmUyNjZjMTllYjNhIiwiem9uZWluZm8iOiJFdXJvcGUvTW9zY293IiwiYmlydGhkYXRlIjoiMjAwNC0wOC0yMSIsImdlbmRlciI6Im1hbGUiLCJuYW1lIjoi0JLQsNC00LjQvCDQmtC70LjQvtC00YIiLCJncm91cHMiOlt7InF1YWxpZmljYXRpb24iOnsiY29kZSI6NjIsIm5hbWUiOiLQkdCw0LrQsNC70LDQstGAIn0sIm5hbWUiOiJQMzIzNCIsImNvdXJzZSI6MiwiZmFjdWx0eSI6eyJuYW1lIjoi0YTQsNC60YPQu9GM0YLQtdGCINC_0YDQvtCz0YDQsNC80LzQvdC-0Lkg0LjQvdC20LXQvdC10YDQuNC4INC4INC60L7QvNC_0YzRjtGC0LXRgNC90L7QuSDRgtC10YXQvdC40LrQuCIsInNob3J0X25hbWUiOiLQpNCf0Jgg0Lgg0JrQoiIsImlkIjo3NjJ9fV0sImlzdSI6MzY4MzA1LCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJpZDM2ODMwNSIsImdpdmVuX25hbWUiOiLQktCw0LTQuNC8IiwibG9jYWxlIjoicnUiLCJtaWRkbGVfbmFtZSI6ItCU0LzQuNGC0YDQuNC10LLQuNGHIiwiaXNfc3R1ZGVudCI6dHJ1ZSwiZmFtaWx5X25hbWUiOiLQmtC70LjQvtC00YIifQ.Ghnr3WqLBvpjyfkAK2yPkCWzTuqnYR5VsWlPK45Y1Fm4lwyYTnMtxc_Glt4HnH45nq75Sjx_3Za6kf5zF6oPUCBnay9ON14Pr-p4VJLG6_SdqNyL7sXd2_g2jHajBRwPtxLhb8vjMbuP8EgaoA_hzmSotVl13hdokPlPIClYcq8eRdh2BYUVtvXHLeBamTVJWsCBl09b4g_dzZN3_pMY3WsXnk_WVA8x5eDph0M3Sglnuh5Euhmf-12xrh-XdVNsvQrbHgPO32R3SxwxaYzmiIXRznRfVIJeMLfvcoVt5hJ44iNBmkaipHzodTXlEl-R7XIOC7Skmm4qC4eJ_rdRyQ",
}

Последующие запросы:

  -H 'authorization: Bearer [*] eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIwSVliSmNVLW1wbEdBdzhFMzNSNkNKTUdWa3hZdUQ2eUItdWt3RlBJOXV3In0.eyJleHAiOjE2OTU2NzIzNzUsImlhdCI6MTY5NTY3MDU3NSwiYXV0aF90aW1lIjoxNjkyMDA0OTEwLCJqdGkiOiI2NTNjNDA5OC0wMWY2LTQzMTUtYTk2OC0zMWQyM2UwNDdkOGEiLCJpc3MiOiJodHRwczovL2lkLml0bW8ucnUvYXV0aC9yZWFsbXMvaXRtbyIsImF1ZCI6InlhbmRleCIsInN1YiI6IjU3ZTE2NWIzLWVmNGMtNDRiYy1iNDZmLWNkZDM5ZDQ3ZTg3YSIsInR5cCI6IkJlYXJlciIsImF6cCI6InN0dWRlbnQtcGVyc29uYWwtY2FiaW5ldCIsInNlc3Npb25fc3RhdGUiOiJhOGYzMmJlZS0wYjMzLTRhOWMtODUyMi1mZTI2NmMxOWViM2EiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly9teS5pdG1vLnN1IiwiaHR0cHM6Ly9teS5pdG1vLnJ1IiwiaHR0cHM6Ly9lbWJlZC5pZm1vLnJ1IiwiaHR0cHM6Ly9pc3UuaWZtby5ydSJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsieWFuZGV4Ijp7InJvbGVzIjpbImVkaXQ6YWNjb3VudCJdfSwic3R1ZGVudC1wZXJzb25hbC1jYWJpbmV0Ijp7InJvbGVzIjpbImFjY2VzcyJdfX0sInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZWR1IHdvcmsiLCJzaWQiOiJhOGYzMmJlZS0wYjMzLTRhOWMtODUyMi1mZTI2NmMxOWViM2EiLCJpc3UiOjM2ODMwNSwicHJlZmVycmVkX3VzZXJuYW1lIjoiaWQzNjgzMDUifQ.r98xtGFDzPmYCYRBGuRA5Q0HC0sWGq6kn8J5LnxK5bRpfg1AHMPk-wH6HxQ2F5CL3G9oQHKkNFQzF9mVBPQzr_qXFLx7NYJkXFQIhL84wJKKVZKeGwFXh50PYix0RZQ4PQcwkfmtEnN_fqGoPNDbEU_9Pr1BT7oahnX0V1JDZCUXrOqMvDHepEzbtRQzY6CRMZgs5eTgYvIcvaDX596_P6IyY2cHAg5m02FiFFFFip_W_gQ3bPSmXlaz_Pqtp0muKVfFZ-acZg-Ei7PXFjScRkBIFGsqOLdG1CIEg2y7A7_24MHHsLOqw9EiiU32RjtBBVWS1Qn2t9hn2Pb8LiX1JQ' \

Второй токен-запрос
  --data-raw      [**]        'refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjNTcxMzVjYy01ZjEwLTQ4ZTAtYTU5ZS1lYTYwMmY3ZTcxYzAifQ.eyJleHAiOjE2OTgyNjI1NzUsImlhdCI6MTY5NTY3MDU3NSwianRpIjoiNTU4YTdkOTgtNGNmZC00N2NmLWFlZmItOTFiYjUyZTc4MTg2IiwiaXNzIjoiaHR0cHM6Ly9pZC5pdG1vLnJ1L2F1dGgvcmVhbG1zL2l0bW8iLCJhdWQiOiJodHRwczovL2lkLml0bW8ucnUvYXV0aC9yZWFsbXMvaXRtbyIsInN1YiI6IjU3ZTE2NWIzLWVmNGMtNDRiYy1iNDZmLWNkZDM5ZDQ3ZTg3YSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJzdHVkZW50LXBlcnNvbmFsLWNhYmluZXQiLCJzZXNzaW9uX3N0YXRlIjoiYThmMzJiZWUtMGIzMy00YTljLTg1MjItZmUyNjZjMTllYjNhIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlZHUgd29yayIsInNpZCI6ImE4ZjMyYmVlLTBiMzMtNGE5Yy04NTIyLWZlMjY2YzE5ZWIzYSJ9.yngWe6QWfLI3i2sP0ZvA6tLu-Sy-j3kcikzuxHOYkoo&scopes=openid%20profile&client_id=student-personal-cabinet&grant_type=refresh_token' \
  --compressed

Коды ошибок при записи на занятия (наверное, не все)
  {"error_code":0,"error_message":null,"result":[35445]}

  {"error_code":104,"error_message":"запись не найдена","result":null}

  {"error_code":128,"error_message":"вы уже записаны на занятия","result":[35445]}
  {"error_code":119,"error_message":"невозможно записаться на прошедшие занятия","result":31106}
  {"error_code":120,"error_message":"на занятии нет мест для записи","result":32441}


